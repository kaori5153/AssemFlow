<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>組み立て手順情報一覧</title>
  <style>
    body {
   font-family: 'Segoe UI', 'Roboto', sans-serif;
   background-color: #f4f6f8;
   margin: 0;
   padding: 40px;
   color: #333;
 }

 h1, h2 {
   font-size: 24px;
   margin-bottom: 20px;
   color: #2c3e50;
   border-bottom: 2px solid #3498db;
   padding-bottom: 10px;
 }

 table {
   width: 100%;
   max-width: 800px;
   border-collapse: collapse;
   background-color: #fff;
   box-shadow: 0 2px 6px rgba(0,0,0,0.05);
   margin: 20px auto 40px auto;
 }

 th, td {
   padding: 12px 15px;
   border: 1px solid #ccc;
   text-align: left;
 }

 th {
   background-color: #e1e8ed;
   font-weight: 600;
   color: #37474f;
 }

 tr:hover {
   background-color: #f0f8ff;
 }

 /* リンクをボタン風に */
 td a {
   display: inline-block;
   padding: 6px 10px;
   background-color: #3498db;
   color: white;
   text-decoration: none;
   border-radius: 4px;
   font-size: 14px;
   transition: background-color 0.3s;
 }

 td a:hover,
 a.button:hover {
   background-color: #2980b9;
 }

 a.plain {
  background: none;
  color: #3498db;
  padding: 0;
  font-size: 16px;
  text-decoration: none;
  border: none;
}

a.plain:hover {
  text-decoration: underline;
}

    /* ホームボタン */
    a.button {
      display: inline-block;
      padding: 8px 14px;
      background-color: #3498db;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-size: 14px;
      transition: background-color 0.3s;
    }

    a.button:hover {
      background-color: #2980b9;
    }
  </style>
</head>

<body>
<table border="1">
  <h1 th:text="${targetProcedure[0].targetPart.partName + '（部品ID: ' + targetProcedure[0].assemblyProcedure.targetPartId + '）の組み立て手順情報'}">
    組み立て手順情報
  </h1>
  <tr>
    <th>組み立て手順ID</th>
    <th>説明</th>

  </tr>
  </thead>
  </tbody>
  <tr th:each="procedureDetails : ${targetProcedure}">
    <td><a th:href="@{/procedure/update/{id}(id=${procedureDetails.assemblyProcedure.procedureId})}"
           th:text="${procedureDetails.assemblyProcedure.procedureId}"></a></td>
    <td th:text="${procedureDetails.assemblyProcedure.description}">ねじを取り付ける</td>
  </tr>
  </tbody>
</table>

<h2>必要部品</h2>
<table border="1">
  <thead>
  <tr>
    <th>部品ID</th>
    <th>部品名</th>
    <th>数量</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <th:block th:each="procedureDetails : ${targetProcedure}">
    <th:block th:if="${procedureDetails.requiredPartViews != null}">
      <tr th:each="requiredPartDetails : ${procedureDetails.requiredPartViews}">
        <td>
          <a th:href="@{/parts/{id}(id=${requiredPartDetails.partId})}"
             th:text="${requiredPartDetails.partId}">部品ID</a>
        </td>
        <td th:text="${requiredPartDetails.partName}">部品名</td>
        <td th:text="${requiredPartDetails.quantity}">数量</td>
        <td><a th:href="@{/parts/required/update/{id}(id=${requiredPartDetails.requiredPartId})}"
               class="plain">✏️</a></td>
      </tr>
    </th:block>
  </th:block>
  </tbody>
</table>

<a th:href="@{/assemProcedure/form}" class="button">🏠 ホームに戻る</a>

</body>
</html>